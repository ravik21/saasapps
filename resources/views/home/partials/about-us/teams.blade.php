@php
    $teams = \App\Models\User::role('Developer')->get();
    
    // Array of SVG mask definitions
    $svgMasks = [
        [
            'maskId' => 'mask0_15_8947289238',
            'patternId' => 'pattern0_15_8947289238',
            'imageId' => 'image0_15_8947289238',
            'maskPath' => 'M74.9176 237.86C77.3485 239.262 80.1053 240 82.9116 240H164C172.837 240 180 232.837 180 224V16C180 7.16344 172.837 0 164 0H121.897C117.684 0 113.545 1.10895 109.897 3.21539L64 29.7139C61.3333 31.2535 58 29.329 58 26.2498V4.21788C58 1.14578 54.6805 -0.779585 52.0139 0.745821L6.04157 27.0435C2.30535 29.1808 0 33.1554 0 37.4597V187.718C0 192.007 2.28917 195.97 6.00454 198.113L74.9176 237.86Z',
            'transform' => 'matrix(0.00111111 0 0 0.000833333 0 -0.0354166)',
            'imageSize' => ['width' => '900', 'height' => '1285']
        ],
        [
            'maskId' => 'mask0_15_81',
            'patternId' => 'pattern0_15_81',
            'imageId' => 'image0_15_81',
            'maskPath' => 'M180 16C180 7.16344 172.837 0 164 0H44C35.1634 0 28 7.16344 28 16V37.5779C28 40.436 26.4752 43.077 24 44.5061L5.82447 54.9997C1.99801 57.2089 0.0848449 60.1045 0.0849609 63V153.569C0.123691 156.434 2.03726 159.293 5.82448 161.48L24 171.973C26.4752 173.402 28 176.043 28 178.902V224C28 232.837 35.1634 240 44 240H115.582C118.39 240 121.149 239.261 123.582 237.856L166.144 213.283C173.789 208.869 179.989 198.139 180 189.307L180 189.283L180 16Z',
            'transform' => 'matrix(0.000770713 0 0 0.000578035 -0.10578 0)',
            'imageSize' => ['width' => '1572', 'height' => '1730']
        ],
        [
            'maskId' => 'mask0_15_1050',
            'patternId' => 'pattern0_15_1050',
            'imageId' => 'image0_15_1050',
            'maskPath' => 'M172 129.568C176.95 126.71 180 121.428 180 115.712V58.2886C180 52.5724 176.95 47.2903 172 44.4322L100.61 3.21539C96.9619 1.10895 92.8233 0 88.6104 0H16C7.16344 0 0 7.16344 0 16V224C0 232.837 7.16344 240 16 240H164C172.837 240 180 232.837 180 224V183.289C180 177.572 176.95 172.29 172 169.432L143.477 152.964C140.81 151.425 140.81 147.576 143.477 146.036L172 129.568Z',
            'transform' => 'matrix(0.000366166 0 0 0.000274625 0 -0.0624312)',
            'imageSize' => ['width' => '2731', 'height' => '4096']
        ],
        [
            'maskId' => 'mask0_23275_8157',
            'patternId' => 'pattern0_23275_8157',
            'imageId' => 'image0_23275_8157',
            'maskPath' => 'M84.7245 3.32039C88.5585 1.10679 93.5861 0.00222801 98.6113 0.00669832C98.7268 0.00223834 98.8426 0 98.9585 0H164.018C172.854 0 180.018 7.16344 180.018 16L180.018 224C180.018 232.837 172.854 240 164.018 240H66.0176C59.3902 240 54.0176 234.627 54.0176 228V218.454C54.0176 216.915 52.3509 215.953 51.0176 216.722L13.8739 238.167C6.22126 242.586 0.0175409 239.004 0.0175409 230.167V57.4025C-0.205683 54.3492 1.70164 51.2537 5.73951 48.9224L84.7245 3.32039Z',
            'transform' => 'matrix(0.000366166 0 0 0.000274625 0 -0.0624312)',
            'imageSize' => ['width' => '2731', 'height' => '4096']
        ],
        [
            'maskId' => 'mask0_15_89',
            'patternId' => 'pattern0_15_89',
            'imageId' => 'image0_15_89',
            'maskPath' => 'M74.9176 237.86C77.3485 239.262 80.1053 240 82.9116 240H164C172.837 240 180 232.837 180 224V16C180 7.16344 172.837 0 164 0H121.897C117.684 0 113.545 1.10895 109.897 3.21539L64 29.7139C61.3333 31.2535 58 29.329 58 26.2498V4.21788C58 1.14578 54.6805 -0.779585 52.0139 0.745821L6.04157 27.0435C2.30535 29.1808 0 33.1554 0 37.4597V187.718C0 192.007 2.28917 195.97 6.00454 198.113L74.9176 237.86Z',
            'transform' => 'matrix(0.00111111 0 0 0.000833333 0 -0.0354166)',
            'imageSize' => ['width' => '900', 'height' => '1285']
        ],
        [
            'maskId' => 'mask0_15_79',
            'patternId' => 'pattern0_15_79',
            'imageId' => 'image0_15_79',
            'maskPath' => 'M0 84V224C0 232.837 7.16344 240 16 240H109.722C112.525 240 115.278 239.264 117.707 237.865L173.989 205.447C177.708 203.305 180 199.34 180 195.048V16C180 7.16344 172.837 0 164 0H46C41.2646 0.114962 36.5876 1.25736 32.972 3.34483L5.85641 19C-1.79627 23.4183 -1.79628 30.5817 5.85641 35L35.3633 52.0358C38.0299 53.5754 38.0299 57.4244 35.3633 58.964L5.85578 76.0001C2.0295 78.2092 0.116328 81.1046 0.116267 84H0Z',
            'transform' => 'matrix(0.00111111 0 0 0.000833333 0 -0.0624999)',
            'imageSize' => ['width' => '900', 'height' => '1350']
        ],
        [
            'maskId' => 'mask0_15_97',
            'patternId' => 'pattern0_15_97',
            'imageId' => 'image0_15_97',
            'maskPath' => 'M0 90.1946C0 81.358 6.20372 70.6129 13.8564 66.1946L124.974 2.0409C132.627 -2.37738 138.83 1.20435 138.83 10.0409V87.3853C138.83 90.2434 140.355 92.8844 142.83 94.3135L174.299 112.482C177.811 114.51 179.711 117.115 180 119.769V121.195C179.711 123.848 177.811 126.454 174.299 128.482L142.83 146.65C140.355 148.079 138.83 150.72 138.83 153.579V162.385C138.83 165.243 140.355 167.884 142.83 169.313L172 186.154C176.95 189.012 180 194.294 180 200.011V224C180 232.836 172.836 240 164 240H16C7.16346 240 0 232.836 0 224V90.1946Z',
            'transform' => 'matrix(0.000355556 0 0 0.000266667 -0.0333334 0)',
            'imageSize' => ['width' => '3000', 'height' => '3750']
        ],
        [
            'maskId' => 'mask0_15_73',
            'patternId' => 'pattern0_15_73',
            'imageId' => 'image0_15_73',
            'maskPath' => 'M0 84V224C0 232.837 7.16344 240 16 240H109.722C112.525 240 115.278 239.264 117.707 237.865L173.989 205.447C177.708 203.305 180 199.34 180 195.048V16C180 7.16344 172.837 0 164 0H46C41.2646 0.114962 36.5876 1.25736 32.972 3.34483L5.85641 19C-1.79627 23.4183 -1.79628 30.5817 5.85641 35L35.3633 52.0358C38.0299 53.5754 38.0299 57.4244 35.3633 58.964L5.85578 76.0001C2.0295 78.2092 0.116328 81.1046 0.116267 84H0Z',
            'transform' => 'matrix(0.00111111 0 0 0.000833333 0 -0.0624999)',
            'imageSize' => ['width' => '900', 'height' => '1350']
        ],
        [
            'maskId' => 'mask0_15_105',
            'patternId' => 'pattern0_15_105',
            'imageId' => 'image0_15_105',
            'maskPath' => 'M172 129.568C176.95 126.71 180 121.428 180 115.712V58.2886C180 52.5724 176.95 47.2903 172 44.4322L100.61 3.21539C96.9619 1.10895 92.8233 0 88.6104 0H16C7.16344 0 0 7.16344 0 16V224C0 232.837 7.16344 240 16 240H164C172.837 240 180 232.837 180 224V183.289C180 177.572 176.95 172.29 172 169.432L143.477 152.964C140.81 151.425 140.81 147.576 143.477 146.036L172 129.568Z',
            'transform' => 'matrix(0.000366166 0 0 0.000274625 0 -0.0624312)',
            'imageSize' => ['width' => '2731', 'height' => '4096']
        ],
        [
            'maskId' => 'mask0_15_1121',
            'patternId' => 'pattern0_15_1121',
            'imageId' => 'image0_15_1121',
            'maskPath' => 'M180 16C180 7.16344 172.837 0 164 0H44C35.1634 0 28 7.16344 28 16V37.5779C28 40.436 26.4752 43.077 24 44.5061L5.82447 54.9997C1.99801 57.2089 0.0848449 60.1045 0.0849609 63V153.569C0.123691 156.434 2.03726 159.293 5.82448 161.48L24 171.973C26.4752 173.402 28 176.043 28 178.902V224C28 232.837 35.1634 240 44 240H115.582C118.39 240 121.149 239.261 123.582 237.856L166.144 213.283C173.789 208.869 179.989 198.139 180 189.307L180 189.283L180 16Z',
            'transform' => 'matrix(0.000770713 0 0 0.000578035 -0.10578 0)',
            'imageSize' => ['width' => '1572', 'height' => '1730']
        ]
    ];
@endphp

<section class="mt-20 md:mt-40 pb-12 mb-12 md:pb-20 md:mb-20 border-b-hairline border-gray-400">
  <h2 class="mb-8 md:mb-12 text-heading-mobile-sm md:text-heading-sm font-sans-heading">
    Meet our team
  </h2>
  <ul class="flex -mx-8 md:mx-0 px-8 md:px-0 overflow-x-scroll md:overflow-x-visible snap-x snap-mandatory md:grid md:grid-cols-5 md:gap-x-3 lg:gap-x-6 md:gap-y-6 lg:gap-y-8 scrollbar-none">
    @foreach($teams as $index => $team)
    @php
        $mask = $svgMasks[$index % count($svgMasks)];
        $uniqueMaskId = $mask['maskId'] . '_' . $team->id;
        $uniquePatternId = $mask['patternId'] . '_' . $team->id;
        $uniqueImageId = $mask['imageId'] . '_' . $team->id;
    @endphp
    <li class="snap-start w-3/5 md:w-auto pl-8 md:pl-0 -mr-4 md:mr-0 flex-shrink-0 col-span-1">
      <figure class="">
        <svg viewBox="0 0 180 240" fill="none" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
            <mask id="{{ $uniqueMaskId }}" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="0.5" y="0" width="180" height="240">
                <path d="{{ $mask['maskPath'] }}" fill="black"></path>
            </mask>
            <g mask="url(#{{ $uniqueMaskId }})">
                <path d="M0 240V0H180V240H0Z" fill="url(#{{ $uniquePatternId }})"></path>
                <path d="M0 240V0H180V240H0Z" fill="white" style="mix-blend-mode:color"></path>
            </g>
            <defs>
                <pattern id="{{ $uniquePatternId }}" patternContentUnits="objectBoundingBox" width="1" height="1">
                  <use xlink:href="#{{ $uniqueImageId }}" transform="{{ $mask['transform'] }}"></use>
                </pattern>
                <image id="{{ $uniqueImageId }}" width="{{ $mask['imageSize']['width'] }}" height="{{ $mask['imageSize']['height'] }}" xlink:href="{{ $team->avatar ? $team->avatar : asset('images/default-avatar.png') }}"></image>
            </defs>
        </svg>
        <figcaption class="mt-3 lg:mt-5">
          <p class="text-caption-md lg:text-caption-lg">
            {{ $team->name }}
          </p>
          <p class="text-caption-sm lg:text-caption-md text-gray-700">
            {{ $team->designation ?? 'Team Member' }}
          </p>
        </figcaption>
      </figure>
    </li>
    @endforeach
  </ul>
</section>